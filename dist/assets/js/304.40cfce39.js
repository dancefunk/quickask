(window.webpackJsonp=window.webpackJsonp||[]).push([[304],{869:function(s,e,a){"use strict";a.r(e);var n=a(5),t=Object(n.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"基本路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本路由"}},[s._v("#")]),s._v(" 基本路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::get('foo', function () {\n    return 'Hello World';\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"默认路由文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认路由文件"}},[s._v("#")]),s._v(" 默认路由文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("routes/web.php\t它提供了会话状态和 CSRF 保护等功能。\nroutes/api.php\t他里面的路由都是无状态的，并且被分配了 api 中间件组。\n\n大多数的应用构建，都是以在 routes/web.php 文件定义路由开始的。\n可以通过在浏览器中输入定义的路由 URL 来访问 \n\n例如，你可以在浏览器中输入 http://your-app.dev/user 来访问以下路由：\nRoute::get('/user', 'UserController@index');\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"可用的路由方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可用的路由方法"}},[s._v("#")]),s._v(" 可用的路由方法")]),s._v(" "),a("p",[s._v("路由器允许你注册能响应任何 HTTP 请求的路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::get($uri, $callback);\nRoute::post($uri, $callback);\nRoute::put($uri, $callback);\nRoute::patch($uri, $callback);\nRoute::delete($uri, $callback);\nRoute::options($uri, $callback);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("有的时候你可能需要注册一个可响应多个 HTTP 请求的路由，这时你可以使用 match 方法，也可以使用 any 方法注册一个实现响应所有 HTTP 请求的路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::match(['get', 'post'], '/', function () {\n    //\n});\n\nRoute::any('foo', function () {\n    //\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"csrf-保护"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csrf-保护"}},[s._v("#")]),s._v(" CSRF 保护")]),s._v(" "),a("p",[s._v("指向 web 路由文件中定义的 POST、PUT 或 DELETE 路由的任何 HTML 表单都应该包含一个 CSRF 令牌字段，否则，这个请求将会被拒绝。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<form method="POST" action="/profile">\n    @csrf\n    ...\n</form>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"重定向路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重定向路由"}},[s._v("#")]),s._v(" 重定向路由")]),s._v(" "),a("p",[s._v("如果要定义重定向到另一个 URI 的路由，可以使用 Route::redirect方法。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::redirect('/here', '/there', 301);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"视图路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视图路由"}},[s._v("#")]),s._v(" 视图路由")]),s._v(" "),a("p",[s._v("如果你的路由只需要返回一个视图，可以使用 Route::view 方法。它和 redirect 一样方便，不需要定义完整的路由或控制器。")]),s._v(" "),a("p",[a("code",[s._v("view")]),s._v(" 方法有三个参数，其中前两个是必填参数，分别是 URI 和视图名称。第三个参数选填，可以传入一个数组，数组中的数据会被传递给视图:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::view('/welcome', 'welcome');\n\nRoute::view('/welcome', 'welcome', ['name' => 'Taylor']);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"路由参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由参数"}},[s._v("#")]),s._v(" 路由参数")]),s._v(" "),a("h3",{attrs:{id:"必填参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#必填参数"}},[s._v("#")]),s._v(" 必填参数")]),s._v(" "),a("p",[s._v("当然，有时需要在路由中捕获一些 URL 片段。例如，从 URL 中捕获用户的 ID，可以通过定义路由参数来执行此操作：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::get('user/{id}', function ($id) {\n    return 'User '.$id;\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("也可以根据需要在路由中定义多个参数：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::get('posts/{post}/comments/{comment}', function ($postId, $commentId) {\n    //\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("路由的参数通常都会被放在 "),a("code",[s._v("{}")]),s._v(" 内，并且参数名只能为字母，同时路由参数不能包含 "),a("code",[s._v("-")]),s._v(" 符号，如果需要可以用下划线 "),a("code",[s._v("(_)")]),s._v(" 代替。路由参数会按顺序依次被注入到路由回调或者控制器中，而不受回调或者控制器的参数名称的影响。")]),s._v(" "),a("h3",{attrs:{id:"可选参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可选参数"}},[s._v("#")]),s._v(" 可选参数")]),s._v(" "),a("p",[s._v("有时，你可能需要指定一个路由参数，但你希望这个参数是可选的。你可以在参数后面加上 ? 标记来实现，但前提是要确保路由的相应变量有默认值：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::get('user/{name?}', function ($name = null) {\n    return $name;\n});\n\nRoute::get('user/{name?}', function ($name = 'John') {\n    return $name;\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"正则表达式约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正则表达式约束"}},[s._v("#")]),s._v(" 正则表达式约束")]),s._v(" "),a("p",[s._v("你可以使用路由实例上的 "),a("code",[s._v("where")]),s._v(" 方法约束路由参数的格式。"),a("code",[s._v("where")]),s._v(" 方法接受参数名称和定义参数应如何约束的正则表达式：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::get('user/{name}', function ($name) {\n    //\n})->where('name', '[A-Za-z]+');\n\nRoute::get('user/{id}', function ($id) {\n    //\n})->where('id', '[0-9]+');\n\nRoute::get('user/{id}/{name}', function ($id, $name) {\n    //\n})->where(['id' => '[0-9]+', 'name' => '[a-z]+']);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"路由命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由命名"}},[s._v("#")]),s._v(" 路由命名")]),s._v(" "),a("p",[s._v("路由命名可以方便地为指定路由生成 "),a("code",[s._v("URL")]),s._v(" 或者重定向。通过在路由定义上链式调用 "),a("code",[s._v("name")]),s._v(" 方法可以指定路由名称：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::get('user/profile', function () {\n    //\n})->name('profile');\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("你还可以指定控制器行为的路由名称：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::get('user/profile', 'UserController@showProfile')->name('profile');\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("生成指定路由的 "),a("code",[s._v("URL")]),s._v("\n为路由指定了名称后，就可以使用全局辅助函数 "),a("code",[s._v("route")]),s._v(" 来生成链接或者重定向到该路由：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 生成 URL...\n$url = route('profile');\n\n// 生成重定向...\nreturn redirect()->route('profile');\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("如果是有定义参数的命名路由，可以把参数作为 "),a("code",[s._v("route")]),s._v(" 函数的第二个参数传入，指定的参数将会自动插入到 "),a("code",[s._v("URL")]),s._v(" 中对应的位置：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::get('user/{id}/profile', function ($id) {\n    //\n})->name('profile');\n\n$url = route('profile', ['id' => 1]);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"路由组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由组"}},[s._v("#")]),s._v(" 路由组")]),s._v(" "),a("p",[s._v("路由组允许你在大量路由之间共享路由属性，例如中间件或命名空间，而不需要为每个路由单独定义这些属性。共享属性应该以数组的形式传入 "),a("code",[s._v("Route::group")]),s._v(" 方法的第一个参数中。")]),s._v(" "),a("h3",{attrs:{id:"中间件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中间件"}},[s._v("#")]),s._v(" 中间件")]),s._v(" "),a("p",[s._v("要给路由组中所有的路由分配中间件，可以在 "),a("code",[s._v("group")]),s._v(" 之前调用 "),a("code",[s._v("middleware")]),s._v(" 方法，中间件会依照它们在数组中列出的顺序来运行：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::middleware(['first', 'second'])->group(function () {\n    Route::get('/', function () {\n        // 使用 first 和 second 中间件\n    });\n\n    Route::get('user/profile', function () {\n        // 使用 first 和 second 中间件\n    });\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"命名空间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命名空间"}},[s._v("#")]),s._v(" 命名空间")]),s._v(" "),a("p",[s._v("另一个常见用例是使用 "),a("code",[s._v("namespace")]),s._v(" 方法将相同的 "),a("code",[s._v("PHP")]),s._v(" 命名空间分配给路由组的中所有的控制器：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::namespace('Admin')->group(function () {\n    // 在 \"App\\Http\\Controllers\\Admin\" 命名空间下的控制器\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("请记住，默认情况下，"),a("code",[s._v("RouteServiceProvider")]),s._v(" 会在命名空间组中引入你的路由文件，让你不用指定完整的 "),a("code",[s._v("App\\Http\\Controllers")]),s._v(" 命名空间前缀就能注册控制器路由。因此，你只需要指定命名空间 "),a("code",[s._v("App\\Http\\Controllers")]),s._v("之后的部分。")]),s._v(" "),a("h3",{attrs:{id:"子域名路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子域名路由"}},[s._v("#")]),s._v(" 子域名路由")]),s._v(" "),a("p",[s._v("路由组也可以用来处理子域名。子域名可以像路由 URI 一样被分配路由参数，允许你获取一部分子域名作为参数给路由或控制器使用。可以在 "),a("code",[s._v("group")]),s._v(" 之前调用 "),a("code",[s._v("domain")]),s._v(" 方法来指定子域名：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::domain('{account}.myapp.com')->group(function () {\n    Route::get('user/{id}', function ($account, $id) {\n        //\n    });\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"路由前缀"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由前缀"}},[s._v("#")]),s._v(" 路由前缀")]),s._v(" "),a("p",[s._v("可以用 "),a("code",[s._v("prefix")]),s._v(" 方法为路由组中给定的 URL 增加前缀。例如，你可以为组中所有路由的 URI 加上 "),a("code",[s._v("admin")]),s._v(" 前缀：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::prefix('admin')->group(function () {\n    Route::get('users', function () {\n        // 匹配包含 \"/admin/users\" 的 URL\n    });\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"路由名称前缀"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由名称前缀"}},[s._v("#")]),s._v(" 路由名称前缀")]),s._v(" "),a("p",[a("code",[s._v("name")]),s._v(" 方法可以用来给路由组中的每个路由名称添加一个给定的字符串。 例如，您可能希望以 「admin」为所有分组路由的名称加前缀。 给定的字符串与指定的路由名称前缀完全相同，因此我们将确保在前缀中提供尾部的 "),a("code",[s._v(".")]),s._v(" 字符：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::name('admin.')->group(function () {\n    Route::get('users', function () {\n        // 路由分配名称\"admin.users\"...\n    })->name('users');\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"访问控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问控制"}},[s._v("#")]),s._v(" 访问控制")]),s._v(" "),a("p",[a("code",[s._v("Laravel")]),s._v(" 包含了一个 中间件 用于控制应用程序对路由的访问。如果想要使用，请将 "),a("code",[s._v("throttle")]),s._v(" 中间件分配给一个路由或一个路由组。"),a("code",[s._v("throttle")]),s._v(" 中间件会接收两个参数，这两个参数决定了在给定的分钟数内可以进行的最大请求数。 例如，让我们指定一个经过身份验证并且用户每分钟访问频率不超过 60 次的路由：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::middleware('auth:api', 'throttle:60,1')->group(function () {\n    Route::get('/user', function () {\n        //\n    });\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"动态访问控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动态访问控制"}},[s._v("#")]),s._v(" 动态访问控制")]),s._v(" "),a("p",[s._v("您可以根据已验证的 "),a("code",[s._v("User")]),s._v(" 模型的属性指定动态请求的最大值。 例如，如果您的 "),a("code",[s._v("User")]),s._v(" 模型包含"),a("code",[s._v("rate_limit")]),s._v("属性，则可以将属性名称传递给 "),a("code",[s._v("throttle")]),s._v(" 中间件，以便它用于计算最大请求计数：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Route::middleware('auth:api', 'throttle:rate_limit,1')->group(function () {\n    Route::get('/user', function () {\n        //\n    });\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"表单方法伪造"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表单方法伪造"}},[s._v("#")]),s._v(" 表单方法伪造")]),s._v(" "),a("p",[s._v("HTML 表单不支持 "),a("code",[s._v("PUT、PATCH")]),s._v(" 或 "),a("code",[s._v("DELETE")]),s._v(" 行为。所以当你要从 HTML 表单中调用定义了 "),a("code",[s._v("PUT、PATCH")]),s._v(" 或 "),a("code",[s._v("DELETE")]),s._v(" 路由时，你将需要在表单中增加隐藏的 "),a("code",[s._v("_method")]),s._v(" 输入标签。使用 "),a("code",[s._v("_method")]),s._v(" 字段的值作为 "),a("code",[s._v("HTTP")]),s._v(" 的请求方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<form action="/foo/bar" method="POST">\n    <input type="hidden" name="_method" value="PUT">\n    <input type="hidden" name="_token" value="{{ csrf_token() }}">\n</form>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("你也可以使用 "),a("code",[s._v("@ method")]),s._v(" Blade 指令生成 "),a("code",[s._v("_method")]),s._v(" 输入：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<form action="/foo/bar" method="POST">\n    @method(\'PUT\')\n    @csrf\n</form>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"访问当前路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问当前路由"}},[s._v("#")]),s._v(" 访问当前路由")]),s._v(" "),a("p",[s._v("你可以使用 Route Facade 上的 "),a("code",[s._v("current、currentRouteName")]),s._v(" 和 "),a("code",[s._v("currentRouteAction")]),s._v(" 方法来访问处理传入请求的路由的信息")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$route = Route::current();\n\n$name = Route::currentRouteName();\n\n$action = Route::currentRouteAction();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);