(window.webpackJsonp=window.webpackJsonp||[]).push([[232],{787:function(s,t,a){"use strict";a.r(t);var n=a(5),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"分包机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分包机制"}},[s._v("#")]),s._v(" 分包机制")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://uniapp.dcloud.net.cn/collocation/pages.html#subpackages",target:"_blank",rel:"noopener noreferrer"}},[s._v("分包详情链接"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("小程序在打包上传的时候体积不可以超过2M的大小，如果我们的项目体积超过了2M的话，就会需要用到分包机制。\n分包就是把财产分给自己的兄弟，但是又属于自己的大家庭\n微信小程序每个分包的大小是2M，总体积一共不能超过16M\nuni-app内支持对微信小程序、QQ小程序、百度小程序分包优化，即将静态资源或者js文件放入分包内不占用主包大小。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("详情参考："),a("a",{attrs:{href:"https://uniapp.dcloud.io/collocation/manifest.html#%E5%85%B3%E4%BA%8E%E5%88%86%E5%8C%85%E4%BC%98%E5%8C%96%E7%9A%84%E8%AF%B4%E6%98%8E",target:"_blank",rel:"noopener noreferrer"}},[s._v("关于分包优化说明"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"分包目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分包目录结构"}},[s._v("#")]),s._v(" 分包目录结构")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("┌─pages\n│  ├─index\n│  │  └─index.vue\n│  └─login\n│     └─login.vue\n├─pagesA\n│  ├─static\n│  └─list\n│     └─list.vue\n├─pagesB\n│  ├─static\n│  └─detail\n│     └─detail.vue\n├─static\n├─main.js\n├─App.vue\n├─manifest.json\n└─pages.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[s._v("则需要在 pages.json 中填写")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n\t"pages": [{\n\t\t"path": "pages/index/index",\n\t\t"style": { ...}\n\t}, {\n\t\t"path": "pages/login/login",\n\t\t"style": { ...}\n\t}],\n\t"subPackages": [{\n\t\t"root": "pagesA",\n\t\t"pages": [{\n\t\t\t"path": "list/list",\n\t\t\t"style": { ...}\n\t\t}]\n\t}, {\n\t\t"root": "pagesB",\n\t\t"pages": [{\n\t\t\t"path": "detail/detail",\n\t\t\t"style": { ...}\n\t\t}]\n\t}],\n\t"preloadRule": {\n\t\t"pagesA/list/list": {\n\t\t\t"network": "all",\n\t\t\t"packages": ["__APP__"]\n\t\t},\n\t\t"pagesB/detail/detail": {\n\t\t\t"network": "all",\n\t\t\t"packages": ["pagesA"]\n\t\t}\n\t}\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("h3",{attrs:{id:"preloadrule"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preloadrule"}},[s._v("#")]),s._v(" preloadRule")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("配置preloadRule后，在进入小程序某个页面时，由框架自动预下载可能需要的分包，提升进入后续分包页面时的启动速度\n\npreloadRule 中，key 是页面路径，value 是进入此页面的预下载配置，每个配置有以下几项\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[s._v("字段")]),s._v(" "),a("th",{staticStyle:{"text-align":"left"}},[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("packages")]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("进入页面后预下载分包的 root 或 name。"),a("code",[s._v("__APP__")]),s._v(" 表示主包。")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("network")]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("在指定网络下预下载，可选值为：all（不限网络）、wifi（仅wifi下预下载）")])])])]),s._v(" "),a("p",[s._v("app的分包，同样支持preloadRule，但网络规则无效")])])}),[],!1,null,null,null);t.default=e.exports}}]);