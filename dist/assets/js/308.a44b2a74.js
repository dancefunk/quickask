(window.webpackJsonp=window.webpackJsonp||[]).push([[308],{883:function(s,n,a){"use strict";a.r(n);var e=a(5),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"数据库操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库操作"}},[s._v("#")]),s._v(" 数据库操作")]),s._v(" "),a("p",[s._v("数据库的配置文件放置在 "),a("code",[s._v("config/database.php")]),s._v(" 文件中，你可以在此定义所有的数据库连接，并指定默认使用的连接。此文件内提供了大部分 Laravel 能支持的数据库配置示例。")]),s._v(" "),a("h3",{attrs:{id:"curd查询构造器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#curd查询构造器"}},[s._v("#")]),s._v(" CURD查询构造器")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<?php\n//laravel5.6  语法 demo示例\n\nnamespace App\\Http\\Controllers;//命名该控制App空间下名称\n\nuse Illuminate\\Support\\Facades\\DB;//使用DB操作数据库\nuse App\\Http\\Controllers\\Controller;//继承基础控制器\n\nclass UserController extends Controller\n{\n    /**\n     * 展示应用的用户列表.\n     *\n     * @return Response\n     */\n    public function index()\n    {\n        //DB使用为每种操作提供了相应方法：\n        select(查),update(修改),insert(插入),delete(删除),statement(声明)\n        //建议占位符,其他框架通用性强\n        \n        \n        //原生sql写法\n        $data = DB::select('select * from users where id = :id and name = :name ',[':id' => 1,':name'  =>'测试']);\n\n        //查方法\n        //get()  方法获取表中所有记录(获取多行多列)\n        $data = DB::table('users')->get();\n\n        //first()  方法将会返回单个对象(获取一行一列)\n        //where()  方法查询指定条件对象\n        $data = DB::table('users')->where('id','name','3','测试')->first();\n\n        //select() 方法可以查询指定自定义字段\n        $data = DB::table('users')->select('id','name', 'email')->get();\n\n        //value() 方法从结果中获取单个值，该方法会直接返回指定列的值：\n        $data = DB::table('users')->where('name','测试')->value('email');\n\n        //pluck()  方法获取单个列值的数组\n        $data = DB::table('users')->pluck('name');\n\n        //count() 统计数量\n        $data = DB::table('users')->count();\n\n        //exists()  方法来判断匹配查询条件的结果是否存在\n        $data=DB::table('users')->where('id', 1)->exists();\n\n        //join() 方法连表查询\n        $data = DB::table('users')\n            ->join('ceshi', 'users.id', '=', 'ceshi.id')\n            ->select('users.*', 'ceshi.name')\n            ->get();\n\n        //leftJoin() 方法左连表查询\n        $data = DB::table('users')\n            ->leftJoin('ceshi', 'users.id', '=', 'ceshi.id')\n            ->select('users.*', 'ceshi.name')\n            ->get();\n\n        //where() 参数说明:(一)参数是列名,(二)参数是操作符,(三)参数是该列要比较的值\n        $data = DB::table('users')\n            ->where('id', '>=', 1)\n            ->where('name', 'like', '测试%')\n            ->get();\n\n        //传递条件数组到where中写法,建议多where查询使用这个方法\n        $data = DB::table('users')\n            ->where([\n                ['id', '>=', 1],\n                ['name', 'like', '测试%']\n            ])\n            ->get();\n\n        //whereBetween() 方法验证列值是否在给定值之间\n        $data = DB::table('users')\n            ->whereBetween('id', [1, 3])->get();\n\n        //whereIn 方法验证给定列的值是否在给定数组中：\n        $data = DB::table('users')\n            ->whereIn('id', [1, 2, 3])\n            ->get();\n\n        //orderBy() 方法排序\n        $data = DB::table('users')\n            ->orderBy('id', 'desc')\n            ->get();\n\n        //insert()      方法插入记录到数据表\n        //insertGetId() 方法插入记录并返回自增ID值\n        $data=DB::table('users')->insert(\n            [\n                'name'=>'测试',\n                'email' => 'ceshi.com',\n                'password' => 'ceshi'\n            ]\n        );\n\n        //update() 方法修改记录\n        $data =DB::table('users')\n            ->where('id', 1)\n            ->update(['name' => '测试']);\n\n        //delete() 方法删除记录\n        $data=DB::table('users')->where('id', '>', 10)->delete();\n\n\n        //paginate() 方法分页 每页显示数量\n        //注意:目前使用 groupBy 的分页操作不能被Laravel有效执行\n        $data = DB::table('users')->paginate(2);\n\n\n        //前台分页中链接附加参数实现分页\n        $getName = $GET['name']?:'';\n        $data = DB::table('users')\n             ->select('id','name','age')\n             ->where('name', 'like', $getName.'%')\n             ->paginate(2);\n\n        //返回给前端视图数据\n        return $this->view('index',['data'=>$data,'namePage'=>$getName]);\n\n        //前端引用代码  \n        //appends 方法添加查询参数到分页链接查询字符串; 添加 &name=$namePage到每个分页链接中.\n        {{ $data->appends(['name' => $namePage])->links() }}\n\n        //simplePaginate() 方法分页视图中简单的显示\"下一页\"和\"上一页\"链接\n        $data = DB::table('users')->simplePaginate(2);\n        \n        //返回给前端视图数据\n        return $this->view('index',['data'=>$data]);\n        \n        //前端简单引用代码 \n        <div class=\"container\">\n        @foreach ($users as $user)\n            {{ $user->name }}\n        @endforeach\n        </div>\n        {{ $data->links() }}\n\n\n        //原生分页写法\n        $page = 2;\n        $pageSize = 1;\n        $offset = ($page - 1) * $pageSize;\n        $result = DB::table('picasa')\n            ->where('title', 'like', '%'.$title.'%')\n            ->offset($offset)\n            ->limit($pageSize)\n            ->get();\n\n        //返回数据视图文件\n        return $this->view('index', ['result' => $result]);\n\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br")])]),a("h3",{attrs:{id:"开启sql查询日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启sql查询日志"}},[s._v("#")]),s._v(" 开启sql查询日志")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("DB::connection()->enableQueryLog();//开启QueryLog\n$data = DB::table('users')->select('id','name', 'email')->get();//执行sql\ndump(DB::getQueryLog());//sql语句和查询时间\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"写入日志信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#写入日志信息"}},[s._v("#")]),s._v(" 写入日志信息")]),s._v(" "),a("p",[s._v("八种日志级别："),a("code",[s._v("emergency、alert、critical、error、warning、 notice、info 和 debug")])]),s._v(" "),a("p",[s._v("默认日志存放位置: "),a("code",[s._v("/storage/logs/laravel.log")])]),s._v(" "),a("p",[s._v("引用: "),a("code",[s._v("use Illuminate\\Support\\Facades\\Log")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Log::emergency(string $message, array $context = []);\nLog::alert(string $message, array $context = []);\nLog::critical(string $message, array $context = []);\nLog::error(string $message, array $context = []);\nLog::warning(string $message, array $context = []);\nLog::notice(string $message, array $context = []);\nLog::info(string $message, array $context = []);\nLog::debug(string $message, array $context = []);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"eloquent-orm操作数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eloquent-orm操作数据"}},[s._v("#")]),s._v(" Eloquent ORM操作数据")]),s._v(" "),a("h4",{attrs:{id:"自动建立users模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动建立users模型"}},[s._v("#")]),s._v(" 自动建立Users模型")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("php artisan make:model Users\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"手动建立users模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手动建立users模型"}},[s._v("#")]),s._v(" 手动建立Users模型")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<?php\nnamespace App\\Model\\Eloquent\\Admin;\n \nuse Illuminate\\Database\\Eloquent\\Model;\n \nclass Users extends Model\n{\n    //指定表名\n    protected $table=\"users\";\n \n    //指定id\n    protected $primaryKey=\"id\";\n \n    //指定允许批量的字段\n    protected $fillable=['name','age'];\n \n    //指定不允许批量赋值的字段\n    protected $guarded=[];\n\n    //连接多数据库配置  默认使用'mysql' \n    protected $connection = 'mysql';\n \n    //自动维护时间戳  默认是'true' \n    public $timestamps=true;\n \n    //返回当前时间的时间戳,进入数据库,输出时,可以输出格式化好的时间\n    protected function getDateFormat()\n    {\n        return time();\n    }\n \n    //设置之后,返回的就是数据表中的时间戳\n    protected function asDateTime($value)\n    {\n        return $value;\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("h4",{attrs:{id:"引用users模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引用users模型"}},[s._v("#")]),s._v(" 引用Users模型")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("use App\\Model\\Eloquent\\Admin\\Users;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"orm-查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#orm-查"}},[s._v("#")]),s._v(" ORM 查")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//all() 查询所有数据  查询数据为集合\n$data=Users::all();\n\n//根据[$id]主键查询 查询一条数据\n$data=Users::find($id);\n\n//findOrFail() 根据主键查询 如果没有查到 报错\n$data=Users::findOrFail($id);\n\n//get() 查询所有数据\n$data=Users::get();\n\n//first() 查询第一条\n$data=Users::where('id','>','1')->orderBy('age','desc')->first();\n\n//chunk() 每次查询指定[$num]条数 \nUsers::chunk($num,function($data){\n    print_r($data);\n});\n\n//聚合函数\n//count() 统计记录条数\n$num = Users::count();\n\n//max() 查询最大值   min() 查询最小值\n$max=Users::where('id','>',1)->max('age');\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h4",{attrs:{id:"orm-增"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#orm-增"}},[s._v("#")]),s._v(" ORM 增")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//save() 单增\n$data = new Users();\n$data->name = 'admin_a';\n$data->age = 100;\n$data->save();\n\n//create() 多增\n$ret=Users::create([\n    'name'=>'admin_b',\n    'age'=>200\n]);\n\n//firstOrCreate()以属性查询数据 如果没有 新建数据\n$ret=Users::firstOrCreate([\n    'name'=>'admin_c',\n    'age'=>300\n]);\n\n//firstOrNew() 以属性查询数据 如果没有 新建实例 如果想保存调用save()\n$ret=Users::firstOrNew([\n    'name'=>'admin_d',\n    'age'=>400\n]);\n$ret->save();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h4",{attrs:{id:"orm-改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#orm-改"}},[s._v("#")]),s._v(" ORM 改")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//获取主键id,模型修改数据\n$data=Users::find($id);\n$data->name ='admin_e';\n$data->age =66;\n$data->save();\n\n//批量修改\n$ret=Users::where('id','>',2)->update(\n    ['age'=>33]\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h4",{attrs:{id:"orm-删"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#orm-删"}},[s._v("#")]),s._v(" ORM 删")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//获取主键id,模型删除单条\n$data=Users::find($id);\n$data->delete();\n\n//通过主键删除多条\n$ret=Users::destroy(1,2,3);\n$ret=Users::destroy([4,5,6]);\n\n//删除指定条件\n$ret=Users::where('id','>',2)->delete();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);