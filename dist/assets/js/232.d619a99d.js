(window.webpackJsonp=window.webpackJsonp||[]).push([[232],{793:function(n,o,a){"use strict";a.r(o);var e=a(5),s=Object(e.a)({},(function(){var n=this,o=n.$createElement,a=n._self._c||o;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[n._v("#")]),n._v(" 安装")]),n._v(" "),a("h1",{attrs:{id:"安装mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装mongodb"}},[n._v("#")]),n._v(" 安装MongoDB")]),n._v(" "),a("p",[n._v("MongoDB能够运行在多种平台，并支持32位和64的构架。")]),n._v(" "),a("p",[n._v("由于本教程是在Windows上开展，所以只讲Windows上的安装。其他平台参考MongoDB官方手册。")]),n._v(" "),a("h2",{attrs:{id:"在windows上安装mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在windows上安装mongodb"}},[n._v("#")]),n._v(" 在Windows上安装MongoDB")]),n._v(" "),a("p",[n._v("MongoDB2.2版本之前不支持Windows XP，本教程使用的版本是最新的3.0的版本。为了方便操作和理解，所以选择在Windows讲解，生产环境请使用Linux版本。")]),n._v(" "),a("p",[n._v("MongoDB支持32位和64的CPU构架。32位版本只是为了适应老的操作系统，用于开发学习，它有很多局限性，仅支持数据库少于2G的系统。64位版本还有一个Legacy版本，它不包括最近的性能优化，不建议使用。")]),n._v(" "),a("p",[n._v("在这里我们直接下载这个64位版本（"),a("a",{attrs:{href:"https://fastdl.mongodb.org/win32/mongodb-win32-x86_64-2008plus-ssl-3.0.3-signed.msi",target:"_blank",rel:"noopener noreferrer"}},[n._v("MongoDB for Windows 64-bit"),a("OutboundLink")],1),n._v("）。安装过程非常简单，跟安装其他软件一样，一直下一步就行了。比如我的机器上安装到了"),a("code",[n._v("C:\\mongodb")]),n._v("，在安装目录下面有一个"),a("code",[n._v("bin")]),n._v("目录。这个目录包含了MongoDB所有的命令和工具集合，把它配置到环境变量PATH中。如果你选择其他目录安装，请确保路径上没有空格，不然到时候会有很多坑。")]),n._v(" "),a("h2",{attrs:{id:"设置mongodb环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置mongodb环境"}},[n._v("#")]),n._v(" 设置MongoDB环境")]),n._v(" "),a("p",[n._v("MongoDB需要一个目录来保存数据，默认的数据目录是"),a("code",[n._v("\\data\\db")]),n._v("。在我的机器上使用下面的目录作为数据目录。")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("C:\\data\\mongo\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("p",[n._v("你可以在启动MongoDB的时候为它指定一个数据目录。例如我们用如下命令启动MongoDB:")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("C:\\mongodb\\bin\\mongod.exe --dbpath C:\\data\\mongo\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("p",[n._v('数据目录不应该包含空格，否则要用 mongod.exe --dbpath "C:\\data\\mongo"。这些启动参数都是可以放到配置文件当中的，启动的时候指定配置文件。由于配置文件的参数比较多，我们这里暂时不需要理解那么多，先不使用。')]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("mongod.exe --config /etc/mongod.conf\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("h2",{attrs:{id:"运行mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行mongodb"}},[n._v("#")]),n._v(" 运行MongoDB")]),n._v(" "),a("p",[n._v("启动MongoDB，使用"),a("code",[n._v("mongod.exe")]),n._v("命令，例如：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("C:\\mongodb\\bin\\mongod.exe --dbpath C:\\data\\mongo\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("p",[n._v("以上命令用来启动MongoDB服务主进程，并指定数据目录。执行完此命令后，在控制台会打印一系列的启动信息，包括MongoDB的版本，是否根据journal日志执行recovery，进程的信号，操作系统的信息等乖。最后一行会提示你启动成功，监听了27017端口，等待连接消息。")]),n._v(" "),a("h2",{attrs:{id:"连接mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接mongodb"}},[n._v("#")]),n._v(" 连接MongoDB")]),n._v(" "),a("p",[n._v("使用"),a("code",[n._v("mongo.exe")]),n._v("命令连接。打开另一个命令行窗口，输入如下命令：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("C:\\mongodb\\bin\\mongo.exe\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("p",[n._v("执行些命令后，就能连接上MongoDB服务。由于没有配置任何其他端口，也没有配置权限认证，所以一切都是默认的本地连接，相当简单。连接成功后，执行help命令，看看有什么内容吧。")])])}),[],!1,null,null,null);o.default=s.exports}}]);