(window.webpackJsonp=window.webpackJsonp||[]).push([[191],{747:function(s,n,a){"use strict";a.r(n);var e=a(5),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"vue中的自定义指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue中的自定义指令"}},[s._v("#")]),s._v(" Vue中的自定义指令")]),s._v(" "),a("p",[s._v("Vue中允许自定义指令，结合directive属性即可")]),s._v(" "),a("p",[s._v("1）组成结构")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Vue.directive(指令名, 指令实现内容)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("2）基础示例：")]),s._v(" "),a("p",[s._v("使得当前作用节点颜色变成红色")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <div id=\"app\">\n        <h1 v-red=\"color\">测试自定义指令</h1>\n    </div>\n    <script>\n        Vue.directive('red', function(el, bingding){\n            el.style.color = bingding.value;\n        })\n\n        new Vue({\n            el: '#app', \n            data: {\n                vals: 'Hello Wolrd !',\n                color: 'red'\n            }\n        })\n    <\/script> \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"directive中的钩子函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#directive中的钩子函数"}},[s._v("#")]),s._v(" directive中的钩子函数")]),s._v(" "),a("p",[s._v("不同的钩子表示当前自定义指令所处的周期是在哪一环节：")]),s._v(" "),a("p",[s._v("1）bind")]),s._v(" "),a("p",[s._v("只调用一次，指令第一次绑定到元素时调用，用这个钩子函数可以定义一个在绑定时执行一次的初始化动作")]),s._v(" "),a("p",[s._v("2）inserted")]),s._v(" "),a("p",[s._v("被绑定元素插入父节点时调用（父节点存在即可调用，不必存在于 document 中）")]),s._v(" "),a("p",[s._v("3）update")]),s._v(" "),a("p",[s._v("被绑定元素所在的模板更新时调用，而不论绑定值是否变化。通过比较更新前后的绑定值，可以忽略不必要的模板更新")]),s._v(" "),a("p",[s._v("4）componentUpdated")]),s._v(" "),a("p",[s._v("被绑定元素所在模板完成一次更新周期时调用")]),s._v(" "),a("p",[s._v("5）unbind")]),s._v(" "),a("p",[s._v("只调用一次，指令与元素解绑时使用")]),s._v(" "),a("h3",{attrs:{id:"钩子函数中的参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#钩子函数中的参数"}},[s._v("#")]),s._v(" 钩子函数中的参数")]),s._v(" "),a("p",[s._v("1）el")]),s._v(" "),a("p",[s._v("指令所绑定的元素，可以用来直接操作 DOM 。")]),s._v(" "),a("p",[s._v("2）binding")]),s._v(" "),a("p",[s._v("一个对象，包含以下属性：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v('* name: 指令名，不包括 v- 前缀。\n\n* value: 指令的绑定值， 例如： v-my-directive="1 + 1"，value 的值是 2。\n\n* oldValue: 指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。\n\n* expression: 绑定值的字符串形式。 例如 v-my-directive="1 + 1" ， expression 的值是 "1 + 1"。\n\n* arg: 传给指令的参数。例如 v-my-directive:foo， arg 的值是 "foo"。\n\n* modifiers: 一个包含修饰符的对象。 例如： v-my-directive.foo.bar, 修饰符对象 modifiers 的值是 { foo: true, bar: true }。\n')])])]),a("p",[s._v("3）vnode")]),s._v(" "),a("p",[s._v("Vue 编译生成的虚拟节点。")]),s._v(" "),a("p",[s._v("4）oldVnode")]),s._v(" "),a("p",[s._v("上一个虚拟节点，仅在 update 和 componentUpdated 钩子中可用。")]),s._v(" "),a("h3",{attrs:{id:"自定义指令拖拽功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义指令拖拽功能"}},[s._v("#")]),s._v(" 自定义指令拖拽功能")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <style>\n        *{\n            padding: 0;\n            margin: 0;\n        }\n\n        .test{\n            width: 100px;\n            height: 100px;\n            background: red;\n            cursor: pointer;\n            position: absolute;\n            left: 0;\n            top: 0;\n        }\n    </style>\n    <div id=\"app\">\n        <div class=\"test\" v-drag></div>\n    </div>\n    <script>\n    <\/script>\n    <script>\n        Vue.directive('drag', function(el, e){\n            let x = 0, y = 0, l = 0, t = 0, mx = 0, my = 0, status = 0;\n            \n            el.onmousedown = function(e){\n                status = 1;\n                x = e.pageX;\n                y = e.pageY;\n                l = el.offsetLeft;\n                t = el.offsetTop;\n                mx = x - l;\n                my = y - t;\n            };\n\n            el.onmousemove = function(e){\n                if(status == 1){\n                    el.style.left = e.pageX - mx + \"px\";\n                    el.style.top = e.pageY - my + \"px\";\n                }\n            };\n\n\n            window.onmouseup = function(){\n                status = 0;\n            }\n\n            window.onmouseup = function(){\n                status = 0;\n            }\n        })\n\n        new Vue({\n            el: '#app', \n            data: {\n                vals: 'Hello Wolrd !',\n                color: 'red'\n            }\n        })\n    <\/script>    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);