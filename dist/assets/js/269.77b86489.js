(window.webpackJsonp=window.webpackJsonp||[]).push([[269],{823:function(e,a,t){"use strict";t.r(a);var s=t(5),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h3",{attrs:{id:"删除数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除数据"}},[e._v("#")]),e._v(" 删除数据")]),e._v(" "),t("h1",{attrs:{id:"使用mongo命令行删除数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用mongo命令行删除数据"}},[e._v("#")]),e._v(" 使用mongo命令行删除数据")]),e._v(" "),t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[e._v("#")]),e._v(" 概述")]),e._v(" "),t("p",[e._v("使用"),t("code",[e._v("remove()")]),e._v("方法从集合中删除文档。这个方法需要一个条件文档用来决定哪些文档将被删除。")]),e._v(" "),t("h2",{attrs:{id:"删除匹配的所有文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除匹配的所有文档"}},[e._v("#")]),e._v(" 删除匹配的所有文档")]),e._v(" "),t("p",[e._v("下面的操作将删除指定条件匹配的所有文件:")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('db.restaurants.remove( { "borough": "Manhattan" } )\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("删除操作返回一个"),t("code",[e._v("WriteResult")]),e._v("对象，它包含了操作的状态信息。"),t("code",[e._v("nRemoved")]),e._v("字段值表示被删除的文档数量。")]),e._v(" "),t("h2",{attrs:{id:"使用justone可选参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用justone可选参数"}},[e._v("#")]),e._v(" 使用justOne可选参数")]),e._v(" "),t("p",[e._v("默认地，"),t("code",[e._v("remove()")]),e._v("方法将删除匹配指定条件的所有文档。使用justOne可选参数可以限制删除操作只删除一条。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('db.restaurants.remove( { "borough": "Queens" }, { justOne: true } )\n\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[e._v("操作成功将返回如下的"),t("code",[e._v("WriteResult")]),e._v("对象。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('WriteResult({ "nRemoved" : 1 })\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[t("code",[e._v("nRemoved")]),e._v("字段值表示删除的文档数量。")]),e._v(" "),t("h2",{attrs:{id:"删除所有文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除所有文档"}},[e._v("#")]),e._v(" 删除所有文档")]),e._v(" "),t("p",[e._v("删除一个集合中的所有文档，传递一个空的条件文档即可。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("db.restaurants.remove( { } )\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"删除一个集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除一个集合"}},[e._v("#")]),e._v(" 删除一个集合")]),e._v(" "),t("p",[e._v("删除所有的操作仅仅是删除集合中的全部文档。集合本身和集合的索引并不会被删除。直接删除集合包括索引，也许比删除一个集合中的所有文档更高效。需要的时候重新创建集合并构建索引。使用"),t("code",[e._v("drop()")]),e._v("方法删除一个集合，包括所有索引。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("db.restaurants.drop()\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("删除集合如果成功，此操作将返回true。如果被删除的集合不存在，将返回false。")]),e._v(" "),t("p",[e._v('在MongoDB中，"写"操作是文档级别的原子操作。如果一个删除操作要删除集合中的多个文档，这个操作会和其他写操作交错。具体请参考MongoDB手册中'),t("a",{attrs:{href:"http://docs.mongodb.org/manual/core/write-operations-atomicity/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Atomicity"),t("OutboundLink")],1),e._v("。")])])}),[],!1,null,null,null);a.default=r.exports}}]);