import{_ as e,r as p,o,c as l,b as n,d as s,e as t,a as i}from"./app-a58d3f97.js";const r={},c={id:"nuxt中文官网",tabindex:"-1"},d=n("a",{class:"header-anchor",href:"#nuxt中文官网","aria-hidden":"true"},"#",-1),u={href:"https://nuxt.com.cn/",target:"_blank",rel:"noopener noreferrer"},k={id:"nuxtjs项目搭建仓库源码",tabindex:"-1"},v=n("a",{class:"header-anchor",href:"#nuxtjs项目搭建仓库源码","aria-hidden":"true"},"#",-1),m={href:"https://github.com/dancefunk/quickask-vue-nuxt",target:"_blank",rel:"noopener noreferrer"},b={id:"nuxtjs项目搭建在线演练场",tabindex:"-1"},g=n("a",{class:"header-anchor",href:"#nuxtjs项目搭建在线演练场","aria-hidden":"true"},"#",-1),h={href:"https://stackblitz.com/edit/quickask-vue-nuxt?embed=1&file=package.json&theme=dark",target:"_blank",rel:"noopener noreferrer"},x=i(`<h3 id="创建项目" tabindex="-1"><a class="header-anchor" href="#创建项目" aria-hidden="true">#</a> 创建项目</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>请对照官网的方式安装项目
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="目录结构" tabindex="-1"><a class="header-anchor" href="#目录结构" aria-hidden="true">#</a> 目录结构</h3><table><thead><tr><th style="text-align:left;">文件名称</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">tsconfig.json</td><td style="text-align:left;">Typescript配置文件</td></tr><tr><td style="text-align:left;">package.json</td><td style="text-align:left;">依赖包配置文件</td></tr><tr><td style="text-align:left;">nuxt.config.ts</td><td style="text-align:left;">nuxt项目配置文件</td></tr><tr><td style="text-align:left;">app.config.ts</td><td style="text-align:left;">应用程序配置文件 可以配置全局属性和方法</td></tr><tr><td style="text-align:left;">app.vue</td><td style="text-align:left;">入口界面文件</td></tr><tr><td style="text-align:left;">pages/</td><td style="text-align:left;">基于文件的路由界面</td></tr><tr><td style="text-align:left;">layouts/</td><td style="text-align:left;">属于模板布局目录</td></tr><tr><td style="text-align:left;">components/</td><td style="text-align:left;">属于页面中的公共组件目录，例如 头部 底部 菜单等</td></tr><tr><td style="text-align:left;">public/</td><td style="text-align:left;">用来存放静态文件 css/js/images 等素材</td></tr><tr><td style="text-align:left;">plugins/</td><td style="text-align:left;">可以注册第三方组件，并加载到应用中</td></tr><tr><td style="text-align:left;">composables/</td><td style="text-align:left;">属于全局自动加载的辅助函数目录 很好用</td></tr><tr><td style="text-align:left;">middleware/</td><td style="text-align:left;">中间件文件夹，可以定义全局和非全局的中间件</td></tr><tr><td style="text-align:left;">server/</td><td style="text-align:left;">服务器目录 Nuxt自动扫描~/server/api, ~/server/routes, 和 ~/server/middleware目录中的文件，以注册具有HMR支持的API和服务器处理程序。</td></tr><tr><td style="text-align:left;">.output/</td><td style="text-align:left;">打包编译输出的文件夹</td></tr></tbody></table><h3 id="安装vantui并全局使用" tabindex="-1"><a class="header-anchor" href="#安装vantui并全局使用" aria-hidden="true">#</a> 安装VantUI并全局使用</h3><blockquote><p>安装VantUI</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>npm i vant <span class="token operator">-</span><span class="token constant">D</span>
npm i @vant<span class="token operator">/</span>nuxt <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>nuxt.config.js</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineNuxtConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@vant/nuxt&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">vant</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** Options */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>./plugins/global.plugin.ts 创建全局挂载文件</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vant <span class="token keyword">from</span> <span class="token string">&#39;vant&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineNuxtPlugin</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">nuxtApp</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">provide</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">vant</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> vant
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>页面中使用</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>VantUI<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>van<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;success&quot;</span><span class="token operator">&gt;</span>VantUI 按钮元素<span class="token operator">&lt;</span><span class="token operator">/</span>van<span class="token operator">-</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
  <span class="token comment">//plugin挂载后的 全局调用方式</span>
  <span class="token function">useNuxtApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$vant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showNotify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;通知内容&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自定义全局属性和方法" tabindex="-1"><a class="header-anchor" href="#自定义全局属性和方法" aria-hidden="true">#</a> 自定义全局属性和方法</h3><blockquote><p>根目录创建 应用配置文件 app.config.ts</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineAppConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;全局属性 - hello world&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">footer</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&#39;全局方法 - hello world&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>页面中使用</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>自定义全局属性和方法<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>

  <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token function">useAppConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>

  <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token function">useAppConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
  <span class="token comment">// 调用全局属性</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">useAppConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span>

  <span class="token comment">//调用全局方法</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">useAppConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自定义钩子函数" tabindex="-1"><a class="header-anchor" href="#自定义钩子函数" aria-hidden="true">#</a> 自定义钩子函数</h3><blockquote><p>composables/useDemo.js</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useDemo</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">opts</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> opts <span class="token operator">=</span> opts <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token string">&#39;自定义钩子函数&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>页面中使用</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
  <span class="token comment">//钩子函数</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">useDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自定义公共组件" tabindex="-1"><a class="header-anchor" href="#自定义公共组件" aria-hidden="true">#</a> 自定义公共组件</h3><blockquote><p>components/common/Menu.vue</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>van<span class="token operator">-</span>sticky <span class="token operator">:</span>offset<span class="token operator">-</span>bottom<span class="token operator">=</span><span class="token string">&quot;50&quot;</span> position<span class="token operator">=</span><span class="token string">&quot;bottom&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>van<span class="token operator">-</span>action<span class="token operator">-</span>bar<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>van<span class="token operator">-</span>action<span class="token operator">-</span>bar<span class="token operator">-</span>icon icon<span class="token operator">=</span><span class="token string">&quot;chat-o&quot;</span> text<span class="token operator">=</span><span class="token string">&quot;客服&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>van<span class="token operator">-</span>action<span class="token operator">-</span>bar<span class="token operator">-</span>icon icon<span class="token operator">=</span><span class="token string">&quot;cart-o&quot;</span> text<span class="token operator">=</span><span class="token string">&quot;购物车&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>van<span class="token operator">-</span>action<span class="token operator">-</span>bar<span class="token operator">-</span>icon icon<span class="token operator">=</span><span class="token string">&quot;shop-o&quot;</span> text<span class="token operator">=</span><span class="token string">&quot;店铺&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>van<span class="token operator">-</span>action<span class="token operator">-</span>bar<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">&quot;danger&quot;</span> text<span class="token operator">=</span><span class="token string">&quot;立即购买&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>van<span class="token operator">-</span>action<span class="token operator">-</span>bar<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>van<span class="token operator">-</span>sticky<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>页面中使用</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 加载公共组件 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>CommonMenu <span class="token operator">/</span><span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 懒加载模式 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>LazyCommonMenu <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="构建接口api与中间件" tabindex="-1"><a class="header-anchor" href="#构建接口api与中间件" aria-hidden="true">#</a> 构建接口API与中间件</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>请预览上面的项目演练场
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="集成pinia状态管理" tabindex="-1"><a class="header-anchor" href="#集成pinia状态管理" aria-hidden="true">#</a> 集成Pinia状态管理</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pinia和Vuex的作用是一样的，它也充当的是一个存储数据的作用，存储在pinia的数据允许我们在各个组件中使用
pinia中只有state、getter、action

state =&gt; 等价于 Vue中的 data数据 
getters =&gt; 等价于 Vue中的 computed计算属性
actions =&gt; 等价于 Vue中的 methods 方法 可以是异步的或同步的

1、NuxtJS中使用Pinia
yarn add pinia -D
yarn add @pinia/nuxt -D

2、nuxt项目中进行配置
// nuxt.config.ts
export default defineNuxtConfig({
  modules: [&#39;@pinia/nuxt&#39;],
})

3、使用pinia请查阅上面的项目演练场或者仓库源码
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pinia的持久化存储" tabindex="-1"><a class="header-anchor" href="#pinia的持久化存储" aria-hidden="true">#</a> Pinia的持久化存储</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pinia默认是不会自动持久化存储的，当页面刷新时数据还是会丢失，此时需要使用自动持久化插件，Nuxt3的使用方法参考插件官网文档

https://prazdevs.github.io/pinia-plugin-persistedstate/frameworks/nuxt-3.html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,34);function f(y,q){const a=p("ExternalLinkIcon");return o(),l("div",null,[n("h3",c,[d,s(),n("a",u,[s("Nuxt中文官网"),t(a)])]),n("h3",k,[v,s(),n("a",m,[s("NuxtJS项目搭建仓库源码"),t(a)])]),n("h3",b,[g,s(),n("a",h,[s("NuxtJS项目搭建在线演练场"),t(a)])]),x])}const _=e(r,[["render",f],["__file","06.html.vue"]]);export{_ as default};
