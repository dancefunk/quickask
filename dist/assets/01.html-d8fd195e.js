import{_ as n,p as s,q as a,Z as t}from"./framework-823c4b5a.js";const e={},p=t(`<h3 id="php操作mysql函数" tabindex="-1"><a class="header-anchor" href="#php操作mysql函数" aria-hidden="true">#</a> PHP操作Mysql函数</h3><p>在讲解查询前，我们准备一张数据表，这个表存放着银行的余额和用户的基本信息</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token operator">--</span> phpMyAdmin <span class="token constant">SQL</span> Dump
<span class="token operator">--</span> version <span class="token number">4.6</span><span class="token number">.6</span>
<span class="token operator">--</span> https<span class="token punctuation">:</span><span class="token comment">//www.phpmyadmin.net/</span>
<span class="token operator">--</span>
<span class="token operator">--</span> Host<span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">3306</span>
<span class="token operator">--</span> Generation Time<span class="token punctuation">:</span> Jul <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">2017</span> at <span class="token number">05</span><span class="token punctuation">:</span><span class="token number">27</span> <span class="token constant">PM</span>
<span class="token operator">--</span> Server version<span class="token punctuation">:</span> <span class="token number">5.6</span><span class="token number">.35</span>
<span class="token operator">--</span> <span class="token constant">PHP</span> Version<span class="token punctuation">:</span> <span class="token number">5.6</span><span class="token number">.30</span>

<span class="token constant">SET</span> <span class="token constant">SQL_MODE</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;NO_AUTO_VALUE_ON_ZERO&quot;</span><span class="token punctuation">;</span>
<span class="token constant">SET</span> time_zone <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;+00:00&quot;</span><span class="token punctuation">;</span>

<span class="token operator">--</span>
<span class="token operator">--</span> Database<span class="token punctuation">:</span> <span class="token string backtick-quoted-string">\`demo\`</span>
<span class="token operator">--</span>
<span class="token constant">CREATE</span> <span class="token constant">DATABASE</span> <span class="token keyword">IF</span> <span class="token constant">NOT</span> <span class="token constant">EXISTS</span> <span class="token string backtick-quoted-string">\`demo\`</span> <span class="token keyword">DEFAULT</span> <span class="token constant">CHARACTER</span> <span class="token constant">SET</span> utf8 <span class="token constant">COLLATE</span> utf8_general_ci<span class="token punctuation">;</span>
<span class="token keyword">USE</span> <span class="token string backtick-quoted-string">\`demo\`</span><span class="token punctuation">;</span>

<span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token operator">--</span>
<span class="token operator">--</span> Table structure <span class="token keyword">for</span> table <span class="token string backtick-quoted-string">\`money\`</span>
<span class="token operator">--</span>

<span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token string backtick-quoted-string">\`money\`</span> <span class="token punctuation">(</span>
  <span class="token string backtick-quoted-string">\`id\`</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">\`username\`</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">\`balance\`</span> <span class="token keyword type-declaration">float</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">\`province\`</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">\`age\`</span> <span class="token function">tinyint</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token constant">UNSIGNED</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">\`sex\`</span> <span class="token function">tinyint</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span>
<span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token operator">--</span>
<span class="token operator">--</span> Dumping data <span class="token keyword">for</span> table <span class="token string backtick-quoted-string">\`money\`</span>
<span class="token operator">--</span>

<span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token string backtick-quoted-string">\`money\`</span> <span class="token punctuation">(</span><span class="token string backtick-quoted-string">\`id\`</span><span class="token punctuation">,</span> <span class="token string backtick-quoted-string">\`username\`</span><span class="token punctuation">,</span> <span class="token string backtick-quoted-string">\`balance\`</span><span class="token punctuation">,</span> <span class="token string backtick-quoted-string">\`province\`</span><span class="token punctuation">,</span> <span class="token string backtick-quoted-string">\`age\`</span><span class="token punctuation">,</span> <span class="token string backtick-quoted-string">\`sex\`</span><span class="token punctuation">)</span> <span class="token function">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;李文凯&#39;</span><span class="token punctuation">,</span> <span class="token number">120.02</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;湖北&#39;</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;范冰冰&#39;</span><span class="token punctuation">,</span> <span class="token number">260.23</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;山东&#39;</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;黄晓明&#39;</span><span class="token punctuation">,</span> <span class="token number">150.86</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;山东&#39;</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;井柏然&#39;</span><span class="token punctuation">,</span> <span class="token number">810</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;辽宁&#39;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;李冰冰&#39;</span><span class="token punctuation">,</span> <span class="token number">20.15</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;黑龙江&#39;</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;成龙&#39;</span><span class="token punctuation">,</span> <span class="token number">313</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;山东&#39;</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;杨幂&#39;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;刘诗诗&#39;</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;柳岩&#39;</span><span class="token punctuation">,</span> <span class="token number">23.4</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;湖南&#39;</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;赵本山&#39;</span><span class="token punctuation">,</span> <span class="token number">3456</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;辽宁&#39;</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;汪峰&#39;</span><span class="token punctuation">,</span> <span class="token number">34.32</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;郭德纲&#39;</span><span class="token punctuation">,</span> <span class="token number">212</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;天津&#39;</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">--</span>
<span class="token operator">--</span> Indexes <span class="token keyword">for</span> dumped tables
<span class="token operator">--</span>

<span class="token operator">--</span>
<span class="token operator">--</span> Indexes <span class="token keyword">for</span> table <span class="token string backtick-quoted-string">\`money\`</span>
<span class="token operator">--</span>
<span class="token constant">ALTER</span> <span class="token constant">TABLE</span> <span class="token string backtick-quoted-string">\`money\`</span>
  <span class="token constant">ADD</span> <span class="token constant">PRIMARY</span> <span class="token function">KEY</span> <span class="token punctuation">(</span><span class="token string backtick-quoted-string">\`id\`</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">--</span>
<span class="token operator">--</span> <span class="token constant">AUTO_INCREMENT</span> <span class="token keyword">for</span> dumped tables
<span class="token operator">--</span>

<span class="token operator">--</span>
<span class="token operator">--</span> <span class="token constant">AUTO_INCREMENT</span> <span class="token keyword">for</span> table <span class="token string backtick-quoted-string">\`money\`</span>
<span class="token operator">--</span>
<span class="token constant">ALTER</span> <span class="token constant">TABLE</span> <span class="token string backtick-quoted-string">\`money\`</span>
  <span class="token constant">MODIFY</span> <span class="token string backtick-quoted-string">\`id\`</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">AUTO_INCREMENT</span><span class="token punctuation">,</span> <span class="token constant">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">13</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:left;">id</th><th style="text-align:left;">username</th><th style="text-align:left;">balance</th><th style="text-align:left;">province</th><th style="text-align:left;">age</th><th style="text-align:left;">sex</th></tr></thead><tbody><tr><td style="text-align:left;">1</td><td style="text-align:left;">李文凯</td><td style="text-align:left;">120.02</td><td style="text-align:left;">湖北</td><td style="text-align:left;">29</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">2</td><td style="text-align:left;">范冰冰</td><td style="text-align:left;">260.23</td><td style="text-align:left;">山东</td><td style="text-align:left;">40</td><td style="text-align:left;">0</td></tr><tr><td style="text-align:left;">3</td><td style="text-align:left;">黄晓明</td><td style="text-align:left;">150.86</td><td style="text-align:left;">山东</td><td style="text-align:left;">40</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">4</td><td style="text-align:left;">井柏然</td><td style="text-align:left;">810</td><td style="text-align:left;">辽宁</td><td style="text-align:left;">27</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">5</td><td style="text-align:left;">李冰冰</td><td style="text-align:left;">20.15</td><td style="text-align:left;">黑龙江</td><td style="text-align:left;">43</td><td style="text-align:left;">0</td></tr><tr><td style="text-align:left;">6</td><td style="text-align:left;">成龙</td><td style="text-align:left;">313</td><td style="text-align:left;">山东</td><td style="text-align:left;">63</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">7</td><td style="text-align:left;">杨幂</td><td style="text-align:left;">123</td><td style="text-align:left;">北京</td><td style="text-align:left;">30</td><td style="text-align:left;">0</td></tr><tr><td style="text-align:left;">8</td><td style="text-align:left;">刘诗诗</td><td style="text-align:left;">456</td><td style="text-align:left;">北京</td><td style="text-align:left;">29</td><td style="text-align:left;">0</td></tr><tr><td style="text-align:left;">9</td><td style="text-align:left;">柳岩</td><td style="text-align:left;">23.4</td><td style="text-align:left;">湖南</td><td style="text-align:left;">36</td><td style="text-align:left;">0</td></tr><tr><td style="text-align:left;">10</td><td style="text-align:left;">赵本山</td><td style="text-align:left;">3456</td><td style="text-align:left;">辽宁</td><td style="text-align:left;">63</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">11</td><td style="text-align:left;">汪峰</td><td style="text-align:left;">34.32</td><td style="text-align:left;">北京</td><td style="text-align:left;">44</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">12</td><td style="text-align:left;">郭德纲</td><td style="text-align:left;">212</td><td style="text-align:left;">天津</td><td style="text-align:left;">43</td><td style="text-align:left;">1</td></tr></tbody></table><h3 id="mysql-connect" tabindex="-1"><a class="header-anchor" href="#mysql-connect" aria-hidden="true">#</a> mysql_connect</h3><blockquote><p>建立数据库连接</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;不能连接到Mysql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="mysqli-connect-errno" tabindex="-1"><a class="header-anchor" href="#mysqli-connect-errno" aria-hidden="true">#</a> mysqli_connect_errno</h3><blockquote><p>mysqli_connect_errno() 函数返回上一次连接错误的错误代码</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;wrong_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$con</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Connection error: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-connect-error" tabindex="-1"><a class="header-anchor" href="#mysqli-connect-error" aria-hidden="true">#</a> mysqli_connect_error</h3><blockquote><p>mysqli_connect_error() 函数返回上一次连接错误的错误描述</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;wrong_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$con</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Connection error: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-close" tabindex="-1"><a class="header-anchor" href="#mysql-close" aria-hidden="true">#</a> mysql_close</h3><blockquote><p>mysql_close 关闭数据库连接</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>
<span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;不能连接到Mysql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token function">mysql_select_db</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;不能选择这个数据库，或数据库不存在&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;你已经连接到demo数据库&quot;</span><span class="token punctuation">;</span> 

<span class="token function">mysql_close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-select-db" tabindex="-1"><a class="header-anchor" href="#mysql-select-db" aria-hidden="true">#</a> mysql_select_db</h3><blockquote><p>mysql_select_db 选择数据库</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;不能连接到Mysql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token function">mysql_select_db</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;不能选择这个数据库，或数据库不存在&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-query" tabindex="-1"><a class="header-anchor" href="#mysql-query" aria-hidden="true">#</a> mysql_query</h3><blockquote><p>mysql_query 执行sql语句</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$linkId</span> <span class="token operator">=</span> <span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;不能连接到Mysql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token function">mysql_select_db</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;不能选择这个数据库，或者数据库不存在&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select * from MyTable&quot;</span><span class="token punctuation">;</span> 

<span class="token comment">//若SQL查询执行成功，则返回资源标识符，失败时返回FALSE。若执行更新成功，则返回TRUE，否则返回FALSE </span>
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token function">mysql_close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-db-query" tabindex="-1"><a class="header-anchor" href="#mysql-db-query" aria-hidden="true">#</a> mysql_db_query</h3><blockquote><p>mysql_db_query 在指定的数据库里面执行sql语句</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$linkId</span> <span class="token operator">=</span> <span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;不能连接到Mysql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select * from MyTable&quot;</span><span class="token punctuation">;</span> 

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_db_query</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">,</span> <span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token function">mysql_close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-result" tabindex="-1"><a class="header-anchor" href="#mysql-result" aria-hidden="true">#</a> mysql_result</h3><blockquote><p>mysql_result 获取和显示数据</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id, name from MyTable order by name&quot;</span><span class="token punctuation">;</span> 

<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$count</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token variable">$count</span><span class="token operator">&lt;=</span><span class="token function">mysql_num_rows</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$count</span><span class="token operator">++</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
	<span class="token variable">$c_id</span> <span class="token operator">=</span> <span class="token function">mysql_result</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token variable">$c_name</span> <span class="token operator">=</span> <span class="token function">mysql_result</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token keyword">echo</span> <span class="token variable">$c_id</span><span class="token punctuation">,</span><span class="token variable">$c_name</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-fetch-all" tabindex="-1"><a class="header-anchor" href="#mysqli-fetch-all" aria-hidden="true">#</a> mysqli_fetch_all</h3><blockquote><p>mysqli_fetch_all() 函数从结果集中取得所有行作为关联数组，或数字数组，或二者兼有</p></blockquote><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">result</td><td style="text-align:left;">必需。规定由 mysqli_query()、mysqli_store_result() 或 mysqli_use_result() 返回的结果集标识符</td></tr><tr><td style="text-align:left;">resulttype</td><td style="text-align:left;">可选。规定应该产生哪种类型的数组。可以是以下值中的一个： MYSQLI_ASSOCMYSQLI_NUMMYSQLI_BOTH</td></tr></tbody></table><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$sql</span><span class="token operator">=</span><span class="token string double-quoted-string">&quot;SELECT Lastname,Age FROM Persons ORDER BY Lastname&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$result</span><span class="token operator">=</span><span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">,</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_fetch_all</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span><span class="token constant">MYSQLI_ASSOC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_free_result</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-fetch-row" tabindex="-1"><a class="header-anchor" href="#mysql-fetch-row" aria-hidden="true">#</a> mysql_fetch_row</h3><blockquote><p>mysql_fetch_row 获取索引数组类型数据</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id, name from MyTable order by name&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">list</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_row</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Name: <span class="token interpolation"><span class="token variable">$name</span></span> (<span class="token interpolation"><span class="token variable">$id</span></span>) &lt;br /&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-fetch-array" tabindex="-1"><a class="header-anchor" href="#mysql-fetch-array" aria-hidden="true">#</a> mysql_fetch_array</h3><blockquote><p>mysql_fetch_array 获取数组数据</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id, name from MyTable order by name&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token constant">MYSQL_ASSOC</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
	<span class="token variable">$id</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
	<span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Name: <span class="token interpolation"><span class="token variable">$name</span></span> (<span class="token interpolation"><span class="token variable">$id</span></span>) &lt;br /&gt;&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 

<span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id, name from MyTable order by name&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token constant">MYSQL_NUM</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
	<span class="token variable">$id</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
	<span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Name: <span class="token interpolation"><span class="token variable">$name</span></span> (<span class="token interpolation"><span class="token variable">$id</span></span>) &lt;br /&gt;&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 

<span class="token comment">// 说明： </span>
<span class="token comment">// result_type的值有： </span>
<span class="token comment">// MYSQL_ASSOC: 字段名表示键，字段内容为值 </span>
<span class="token comment">// MYSQL_NUM: 数值索引数组，操作与mysql_fetch_ros()函数一样 </span>
<span class="token comment">// MYSQL_BOTH: 即作为关联数组又作为数值索引数组返回。result_type的默认值。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-fetch-assoc" tabindex="-1"><a class="header-anchor" href="#mysql-fetch-assoc" aria-hidden="true">#</a> mysql_fetch_assoc</h3><blockquote><p>mysql_fetch_assoc 获取关联数组类型数据</p></blockquote><h3 id="mysql-fetch-object" tabindex="-1"><a class="header-anchor" href="#mysql-fetch-object" aria-hidden="true">#</a> mysql_fetch_object</h3><blockquote><p>mysql_fetch_object 获取对象类型数据</p></blockquote><h3 id="mysql-num-rows" tabindex="-1"><a class="header-anchor" href="#mysql-num-rows" aria-hidden="true">#</a> mysql_num_rows</h3><blockquote><p>mysql_num_rows 所选择的记录的个数</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//只在确定select查询所获取的记录数时才有用。 </span>
<span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id, name from MyTable where id &gt; 65&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;有&quot;</span><span class="token operator">.</span><span class="token function">mysql_num_rows</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;条记录的ID大于65&quot;</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-insert-id" tabindex="-1"><a class="header-anchor" href="#mysqli-insert-id" aria-hidden="true">#</a> mysqli_insert_id</h3><blockquote><p>mysqli_insert_id() 函数返回最后一个查询中自动生成的 ID（通过 AUTO_INCREMENT 生成）</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//假设 Persons 表有一个自动生成的 ID 字段。返回最后一次查询中的 ID：</span>

<span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;INSERT INTO Persons (FirstName,LastName,Age)
VALUES (&#39;Glenn&#39;,&#39;Quagmire&#39;,33)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;New record has id: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_insert_id</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-affected-rows" tabindex="-1"><a class="header-anchor" href="#mysql-affected-rows" aria-hidden="true">#</a> mysql_affected_rows</h3><blockquote><p>mysql_affected_rows 受Insert,update,delete影响的记录的个数</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//该函数获取受INSERT,UPDATE或DELETE更新语句影响的行数 </span>
<span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;update MyTable set name=&#39;CheneyFu&#39; where id&gt;=5&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;ID大于等于5的名称被更新了的记录数：&quot;</span><span class="token operator">.</span><span class="token function">mysql_affected_rows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-list-dbs" tabindex="-1"><a class="header-anchor" href="#mysql-list-dbs" aria-hidden="true">#</a> mysql_list_dbs</h3><blockquote><p>mysql_list_dbs 获取数据库列表信息</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//显示所有数据库名称 </span>
<span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$dbs</span> <span class="token operator">=</span> <span class="token function">mysql_list_dbs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Databases: &lt;br /&gt;&quot;</span><span class="token punctuation">;</span> 
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">list</span><span class="token punctuation">(</span><span class="token variable">$db</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_rows</span><span class="token punctuation">(</span><span class="token variable">$dbs</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$db</span></span> &lt;br /&gt;&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-db-name" tabindex="-1"><a class="header-anchor" href="#mysql-db-name" aria-hidden="true">#</a> mysql_db_name</h3><blockquote><p>mysql_db_name 获取数据库名</p></blockquote><h3 id="mysql-list-tables" tabindex="-1"><a class="header-anchor" href="#mysql-list-tables" aria-hidden="true">#</a> mysql_list_tables</h3><blockquote><p>mysql_list_tables 获取数据库表列表</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//该函数获取database中所有表的表名 </span>
<span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$tables</span> <span class="token operator">=</span> <span class="token function">mysql_list_tables</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">list</span><span class="token punctuation">(</span><span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_row</span><span class="token punctuation">(</span><span class="token variable">$tables</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token variable">$table</span></span> &lt;br /&gt;&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-tablename" tabindex="-1"><a class="header-anchor" href="#mysql-tablename" aria-hidden="true">#</a> mysql_tablename</h3><blockquote><p>mysql_tablename 获取某个数据库表名</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$tables</span> <span class="token operator">=</span> <span class="token function">mysql_list_tables</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$count</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> 
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">++</span><span class="token variable">$count</span> <span class="token operator">&lt;</span> <span class="token function">mysql_numrows</span><span class="token punctuation">(</span><span class="token variable">$tables</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
	<span class="token keyword">echo</span> <span class="token function">mysql_tablename</span><span class="token punctuation">(</span><span class="token variable">$tables</span><span class="token punctuation">,</span> <span class="token variable">$count</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;&lt;br /&gt;&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 

<span class="token comment">//说明：该函数获取mysql_list_tables()所返回result_set中位于指定index索引的表名 </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-fetch-field" tabindex="-1"><a class="header-anchor" href="#mysql-fetch-field" aria-hidden="true">#</a> mysql_fetch_field</h3><blockquote><p>mysql_fetch_field 获取字段信息</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">mysql_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">mysql_select_db</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select * from MyTable&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$counts</span> <span class="token operator">=</span> <span class="token function">mysql_num_fields</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$count</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$count</span> <span class="token operator">&lt;</span> <span class="token variable">$counts</span><span class="token punctuation">;</span> <span class="token variable">$count</span><span class="token operator">++</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
	<span class="token variable">$field</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_field</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token variable">$count</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;&lt;p&gt;<span class="token interpolation"><span class="token variable">$field</span><span class="token operator">-&gt;</span><span class="token property">name</span></span> <span class="token interpolation"><span class="token variable">$field</span><span class="token operator">-&gt;</span><span class="token property">type</span></span> (<span class="token interpolation"><span class="token variable">$field</span><span class="token operator">-&gt;</span><span class="token property">max_length</span></span>) &lt;/p&gt;&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 

说明： 
返回的对象共有<span class="token number">12</span>个对象属性： 
name<span class="token punctuation">:</span> 字段名 
table<span class="token punctuation">:</span> 字段所在的表 
max_length<span class="token punctuation">:</span>字段的最大长度 
not_null<span class="token punctuation">:</span> 如果字段不能为<span class="token constant">null</span><span class="token punctuation">,</span>则为<span class="token number">1</span><span class="token punctuation">,</span>否则<span class="token number">0</span> 
primary_key<span class="token punctuation">:</span> 如果字段为主键，则为<span class="token number">1</span>，否则<span class="token number">0</span> 
unique_key<span class="token punctuation">:</span> 如果字段是唯一键，则为<span class="token number">1</span>， 否则<span class="token number">0</span> 
multiple_key<span class="token punctuation">:</span> 如果字段为非唯一，则为<span class="token number">1</span>，否则<span class="token number">0</span> 
numeric<span class="token punctuation">:</span> 如果字段为数值则为<span class="token number">1</span>，否则<span class="token number">0</span> 
blob<span class="token punctuation">:</span> 如果字段为<span class="token constant">BLOB</span>则为<span class="token number">1</span>，否则为<span class="token number">0</span> 
type<span class="token punctuation">:</span> 字段的数据类型 
unsigned<span class="token punctuation">:</span> 如果字段为无符号数则为<span class="token number">1</span>，否则为<span class="token number">0</span> 
zerofill<span class="token punctuation">:</span> 如果字段为<span class="token string double-quoted-string">&quot;零填充&quot;</span>则为<span class="token number">1</span>， 否则为<span class="token number">0</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-num-fields" tabindex="-1"><a class="header-anchor" href="#mysql-num-fields" aria-hidden="true">#</a> mysql_num_fields</h3><blockquote><p>mysql_num_fields 获取查询的字段个数</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id,name from MyTable order by name&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;这个查询的字段数是：&quot;</span><span class="token operator">.</span><span class="token function">mysql_num_fields</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;&lt;br /&gt;&quot;</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-list-fields" tabindex="-1"><a class="header-anchor" href="#mysql-list-fields" aria-hidden="true">#</a> mysql_list_fields</h3><blockquote><p>mysql_list_fields 获取指定表的所有字段的字段名</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$fields</span> <span class="token operator">=</span><span class="token function">mysql_list_fields</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;MyTable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;数据库demo中表MyTable的字段数： &quot;</span><span class="token operator">.</span><span class="token function">mysql_num_fields</span><span class="token punctuation">(</span><span class="token variable">$fields</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;&lt;br /&gt;&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-field-flags" tabindex="-1"><a class="header-anchor" href="#mysql-field-flags" aria-hidden="true">#</a> mysql_field_flags</h3><blockquote><p>mysql_field_flags 获取指定的字段选项</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id, name from MyTable order by name&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$row</span><span class="token operator">=</span><span class="token function">mysql_fetch_wor</span><span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-field-len" tabindex="-1"><a class="header-anchor" href="#mysql-field-len" aria-hidden="true">#</a> mysql_field_len</h3><blockquote><p>mysql_field_len 获取指定的字段的最大长度</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//如果mysql_field_len($reseult, 0) = 16777215 </span>
<span class="token comment">//那么numer_format(mysql_field_len($result))等于16,777,215 </span>
<span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select name from MyTable&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_row</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">echo</span> <span class="token function">mysql_field_len</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;&lt;br /&gt;&quot;</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-field-name" tabindex="-1"><a class="header-anchor" href="#mysql-field-name" aria-hidden="true">#</a> mysql_field_name</h3><blockquote><p>mysql_field_name 获取字段名</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id as PKID, name from MyTable order by name&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_row</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">echo</span> <span class="token function">mysql_field_name</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result: PKID </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-field-type" tabindex="-1"><a class="header-anchor" href="#mysql-field-type" aria-hidden="true">#</a> mysql_field_type</h3><blockquote><p>mysql_field_type 获取字段类型</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id, name from MyTable order by name&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_row</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">echo</span> <span class="token function">mysql_field_type</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result: int </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-field-table" tabindex="-1"><a class="header-anchor" href="#mysql-field-table" aria-hidden="true">#</a> mysql_field_table</h3><blockquote><p>mysql_field_table 获取字段所在表名</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;select id as PKID, name from MyTable order by name&quot;</span><span class="token punctuation">;</span> 
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysql_fetch_row</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">echo</span> <span class="token function">mysql_field_table</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Result: MyTable</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-change-user" tabindex="-1"><a class="header-anchor" href="#mysqli-change-user" aria-hidden="true">#</a> mysqli_change_user</h3><blockquote><p>mysqli_change_user() 函数改变指定数据库连接的用户，并设置当前数据库</p></blockquote><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">connection</td><td style="text-align:left;">必需。规定要使用的MySQL连接</td></tr><tr><td style="text-align:left;">username</td><td style="text-align:left;">必需。规定MySQL用户名</td></tr><tr><td style="text-align:left;">password</td><td style="text-align:left;">必需。规定MySQL密码</td></tr><tr><td style="text-align:left;">dbname</td><td style="text-align:left;">必需。规定要改变的新数据库</td></tr></tbody></table><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Reset all and select a new database</span>
<span class="token function">mysqli_change_user</span><span class="token punctuation">(</span><span class="token variable">$link</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;my_test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-character-set-name" tabindex="-1"><a class="header-anchor" href="#mysqli-character-set-name" aria-hidden="true">#</a> mysqli_character_set_name</h3><blockquote><p>mysqli_character_set_name() 函数返回数据库连接的默认字符集</p></blockquote><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">connection</td><td style="text-align:left;">必需。规定要使用的MySQL连接</td></tr></tbody></table><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">mysqli_character_set_name</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="mysqli-get-client-info" tabindex="-1"><a class="header-anchor" href="#mysqli-get-client-info" aria-hidden="true">#</a> mysqli_get_client_info</h3><blockquote><p>mysqli_get_client_info() 函数返回 MySQL 客户端库版本</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token function">mysqli_get_client_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="mysqli-get-client-version" tabindex="-1"><a class="header-anchor" href="#mysqli-get-client-version" aria-hidden="true">#</a> mysqli_get_client_version</h3><blockquote><p>mysqli_get_client_version() 函数将MySQL客户端库版本作为整数返回</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token function">mysqli_get_client_version</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="mysqli-get-connection-stats" tabindex="-1"><a class="header-anchor" href="#mysqli-get-connection-stats" aria-hidden="true">#</a> mysqli_get_connection_stats</h3><blockquote><p>mysqli_get_connection_stats() 函数返回有关客户端连接的统计</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">print_r</span><span class="token punctuation">(</span><span class="token function">mysqli_get_connection_stats</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-get-host-info" tabindex="-1"><a class="header-anchor" href="#mysqli-get-host-info" aria-hidden="true">#</a> mysqli_get_host_info</h3><blockquote><p>mysqli_get_host_info() 函数返回MySQL服务器主机名和连接类型</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//返回 MySQL 服务器主机名和连接类型：</span>
<span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token function">mysqli_get_host_info</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-get-proto-info" tabindex="-1"><a class="header-anchor" href="#mysqli-get-proto-info" aria-hidden="true">#</a> mysqli_get_proto_info</h3><blockquote><p>mysqli_get_proto_info() 函数返回 MySQL 协议版本</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//返回 MySQL 协议版本：</span>
<span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token function">mysqli_get_proto_info</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-get-server-info" tabindex="-1"><a class="header-anchor" href="#mysqli-get-server-info" aria-hidden="true">#</a> mysqli_get_server_info</h3><blockquote><p>mysqli_get_server_info() 函数返回MySQL服务器版本</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//返回 MySQL 服务器版本</span>
<span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token function">mysqli_get_server_info</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-get-server-version" tabindex="-1"><a class="header-anchor" href="#mysqli-get-server-version" aria-hidden="true">#</a> mysqli_get_server_version</h3><blockquote><p>mysqli_get_server_version() 函数将 MySQL 服务器版本作为整数返回</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//将 MySQL 服务器版本作为整数返回：</span>

<span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token function">mysqli_get_server_version</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-kill" tabindex="-1"><a class="header-anchor" href="#mysqli-kill" aria-hidden="true">#</a> mysqli_kill</h3><blockquote><p>mysqli_kill() 函数请求服务器杀死一个由 processid 参数指定的 MySQL 线程</p></blockquote><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">connection</td><td style="text-align:left;">必需。规定要使用的 MySQL 连接</td></tr><tr><td style="text-align:left;">processid</td><td style="text-align:left;">必需。由 mysqli_thread_id() 返回的线程 ID</td></tr></tbody></table><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//返回当前连接的线程 ID，然后杀死连接：</span>

<span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Get thread id</span>
<span class="token variable">$t_id</span><span class="token operator">=</span><span class="token function">mysqli_thread_id</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Kill connection</span>
<span class="token function">mysqli_kill</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">,</span><span class="token variable">$t_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-multi-query" tabindex="-1"><a class="header-anchor" href="#mysqli-multi-query" aria-hidden="true">#</a> mysqli_multi_query</h3><blockquote><p>mysqli_multi_query() 函数执行一个或多个针对数据库的查询。多个查询用分号进行分隔</p></blockquote><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">connection</td><td style="text-align:left;">必需。规定要使用的MySQL连接</td></tr><tr><td style="text-align:left;">query</td><td style="text-align:left;">必需。规定一个或多个查询，用分号进行分隔</td></tr></tbody></table><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">//执行多个针对数据库的查询</span>
<span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;SELECT Lastname FROM Persons ORDER BY LastName;&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$sql</span> <span class="token operator">.=</span> <span class="token string double-quoted-string">&quot;SELECT Country FROM Customers&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_multi_query</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">,</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">do</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$result</span><span class="token operator">=</span><span class="token function">mysqli_store_result</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$row</span><span class="token operator">=</span><span class="token function">mysqli_fetch_row</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;%sn&quot;</span><span class="token punctuation">,</span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token function">mysqli_free_result</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">mysqli_next_result</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-ping" tabindex="-1"><a class="header-anchor" href="#mysqli-ping" aria-hidden="true">#</a> mysqli_ping</h3><blockquote><p>mysqli_ping() 函数进行一个服务器连接，如果连接已断开则尝试重新连接</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_ping</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Connection is ok!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Error: &quot;</span><span class="token operator">.</span> <span class="token function">mysqli_error</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqli-set-charset" tabindex="-1"><a class="header-anchor" href="#mysqli-set-charset" aria-hidden="true">#</a> mysqli_set_charset</h3><blockquote><p>mysqli_set_charset() 函数规定当与数据库服务器进行数据传送时要使用的默认字符集</p></blockquote><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">connection</td><td style="text-align:left;">必需。规定要使用的MySQL连接</td></tr><tr><td style="text-align:left;">charset</td><td style="text-align:left;">必需。规定默认字符集</td></tr></tbody></table><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$con</span><span class="token operator">=</span><span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_user&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;my_password&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_connect_errno</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Failed to connect to MySQL: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">mysqli_set_charset</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;utf8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,130),o=[p];function l(c,i){return s(),a("div",null,o)}const r=n(e,[["render",l],["__file","01.html.vue"]]);export{r as default};
